(this["webpackJsonpmsaljs-to-blob"]=this["webpackJsonpmsaljs-to-blob"]||[]).push([[0],{102:function(e,t,a){e.exports=a(137)},107:function(e,t,a){},108:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),l=a(34),c=a.n(l),o=(a(107),a(44)),s=a(45),i=a(38),u=a(51),h=a(50),b=a(152),m=a(92),d=a(154),f=a(153),p=a(155),v=(a(108),a(43)),E=a.n(v),k=a(61),g=a(83),w=a(156),x=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e,n){var r;return Object(o.a)(this,a),(r=t.call(this,e,n)).state=void 0,r.state={blobsWeFound:[],containerUrl:"",sasUri:e.fullSasUri},r}return Object(s.a)(a,[{key:"componentWillRecieveProps",value:function(e){this.setState({sasUri:e.fullSasUri})}},{key:"componentDidMount",value:function(){var e=Object(k.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchBlobs(this.state.sasUri);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchBlobs",value:function(){var e=Object(k.a)(E.a.mark((function e(t){var a,n,r,l,c,o,s,i,u,h,b,m,d,f,p,v;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t||""!==t){e.next=2;break}return e.abrupt("return");case 2:a=new URL(t),n="".concat(a.protocol,"//").concat(a.host),r="".concat(a.pathname),l=a.search,c=r.split("/")[1],o=[],s=new w.a("".concat(n).concat(l)),i=s.getContainerClient(c),u=!0,h=!1,e.prev=12,m=Object(g.a)(i.listBlobsFlat());case 14:return e.next=16,m.next();case 16:return d=e.sent,u=d.done,e.next=20,d.value;case 20:if(f=e.sent,u){e.next=28;break}p=f,v=i.getBlobClient(p.name),o.push({blob:p,url:v.url});case 25:u=!0,e.next=14;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(12),h=!0,b=e.t0;case 34:if(e.prev=34,e.prev=35,u||null==m.return){e.next=39;break}return e.next=39,m.return();case 39:if(e.prev=39,!h){e.next=42;break}throw b;case 42:return e.finish(39);case 43:return e.finish(34);case 44:this.setState({blobsWeFound:o,containerUrl:i.url});case 45:case"end":return e.stop()}}),e,this,[[12,30,34,44],[35,,39,43]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"blob name"),r.a.createElement("th",null,"blob size"),r.a.createElement("th",null,"download url"))),r.a.createElement("tbody",null,this.state.blobsWeFound.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.blob.name),r.a.createElement("td",null,e.blob.properties.contentLength),r.a.createElement("td",null,r.a.createElement("a",{href:e.url,download:e.blob.name},"Download")))})))))}}]),a}(r.a.Component),y=(a(133),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e,n){var r;return Object(o.a)(this,a),(r=t.call(this,e,n)).state={userUri:""},r.handleChange=r.handleChange.bind(Object(i.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(i.a)(r)),r}return Object(s.a)(a,[{key:"handleChange",value:function(e){this.setState({userUri:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b.a,null,r.a.createElement(m.a,null,r.a.createElement(d.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(f.a,null,r.a.createElement(d.a.Brand,{href:"#home"},"azure blob sas thing"),r.a.createElement(d.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(d.a.Collapse,{id:"basic-navbar-nav"}))))),r.a.createElement(f.a,null,r.a.createElement(b.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,{onSubmit:this.handleSubmit},r.a.createElement(p.a.Group,{controlId:"formFullSasUri"},r.a.createElement(p.a.Label,null,"Enter the SAS of your container here"),r.a.createElement(p.a.Control,{size:"lg",type:"url",value:this.state.userUri,onChange:this.handleChange,placeholder:"https://<storage>.blob.core.windows.net/<container>/<sas>"}),r.a.createElement(p.a.Text,{className:"text-muted"},"This is an azure storage sas with list permissions on a container"))))),r.a.createElement(b.a,null,r.a.createElement(m.a,null,r.a.createElement(x,{key:this.state.userUri,fullSasUri:this.state.userUri})))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,t){},88:function(e,t){}},[[102,1,2]]]);
//# sourceMappingURL=main.eb821659.chunk.js.map